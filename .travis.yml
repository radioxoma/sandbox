language: python

jobs:
  allow_failures:
    - env: ALLOW_FAILURES=true
  include:
    - os: linux
      dist: bionic
    - os: windows
      language: shell

before_install:
  - echo "Im a before_install"
  # No $TRAVIS_OS_NAME here
  # - choco install python

script:
  - echo "Im a script"
  - echo "$TRAVIS_OS_NAME in script"
  - if [[ "$TRAVIS_OS_NAME" == "windows" ]]; then
       echo "Windows condition";
    elif [[ "$TRAVIS_OS_NAME" == "linux" ]]; then
       echo "Linux condition";
    elif [[ "$TRAVIS_OS_NAME" == "osx" ]]; then
        echo "OS X condition";
   else echo "No match in before_install";
   fi
